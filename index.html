<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Collage Maker Pro</title>
    <link rel="stylesheet" href="css/style.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/konva@9/konva.min.js"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
</head>
<body class="bg-[#FFFFFF] text-[#000000] overflow-hidden">

    <header class="header-main">
        <div class="flex items-center gap-4">
            <div class="logo-box"><i data-lucide="layout"></i></div>
                    <div class="flex flex-col gap-1">
			            <h1 class="text-xl font-black uppercase italic leading-none">Collage Maker</h1>
			            <a href="https://x.com/goldenlasttile" target="_blank" class="text-sm text-gray-500 hover:text-blue-600 transition-colors">
			                @goldenlasttile
			            </a>
			        </div>
        </div>
        <div class="flex gap-2">
            <button id="btnGrid" class="btn-secondary"><i data-lucide="grid"></i> Grid</button>
            <button id="btnShuffle" class="btn-secondary"><i data-lucide="shuffle"></i> Shuffle</button>
            <button id="btnExport" class="btn-primary"><i data-lucide="download"></i> Export</button>
        </div>
    </header>

    <main class="flex h-[calc(100vh-73px)]">
        <aside class="sidebar border-r">
            <section>
                <h2 class="section-title">01 / Presets & Res</h2>
                <select id="presetSelect" class="input-field mb-2">
                    <option value="hd-portrait">HD Portrait (2160x2700)</option>
				    <option value="ig-story">Instagram Story (1080x1920)</option>
				    <option value="ig-post">Instagram Post (1080x1350)</option>
				    <option value="square">Square (1080x1080)</option>
				    <option value="a4">A4 Print (2480x3508)</option>
                </select>
                <div class="grid grid-cols-2 gap-2">
                    <input type="number" id="inputW" value="2160" class="input-field">
                    <input type="number" id="inputH" value="2700" class="input-field">
                </div>
            </section>

            <section>
                <h2 class="section-title">02 / Add Assets</h2>
                <div id="dropZone" class="drop-zone">
                    <input type="file" id="fileInput" multiple accept="image/*" class="hidden">
                    <i data-lucide="plus-square"></i>
                    <p class="text-xs font-bold uppercase">Click to Upload</p>
                </div>
            </section>
            <div class="flex gap-2 mt-2">
    			<button id="btnClearAll" class="btn-secondary flex-1 text-[10px]">Clear All</button>
			</div>
			<div id="assetGrid" class="asset-grid mt-4"></div>
        </aside>

        <section id="canvasParent" class="canvas-area">
            <div id="canvasContainer" class="canvas-container-box"></div>
        </section>

        <aside class="sidebar border-l">
            <section>
                <h2 class="section-title">03 / Canvas Style</h2>
                <label class="label-xs">Background Color</label>
                <input type="color" id="bgColor" value="#ffffff" class="w-full h-8 border-2 border-black mb-4">
                <label class="label-xs">Pattern Type</label>
                <div class="grid grid-cols-3 gap-1 mb-4">
                    <button class="pat-btn" data-pattern="none">None</button>
                    <button class="pat-btn" data-pattern="grid">Grid</button>
                    <button class="pat-btn" data-pattern="dots">Dots</button>
                </div>
                <label class="label-xs">Pattern Color</label>
                <input type="color" id="patternColor" value="#E3E3E3" class="w-full h-8 border-2 border-black mb-4">
                <label class="label-xs">Pattern Opacity</label>
			    <input type="range" id="patternOpacity" min="0" max="1" value="1" step="0.1" class="w-full accent-black">
            </section>

            <section id="imageEditSection" class="opacity-30 pointer-events-none">
			    <h2 class="section-title">04 / Image Effects</h2>
			    
			    <button id="btnApplyAll" class="btn-secondary w-full mb-2 py-1 text-[10px]">Apply to All</button>
				<button id="btnDeleteSelected" class="btn-secondary w-full mb-4 py-1 text-[10px] border-red-500 text-red-500 hover:bg-red-500 hover:text-white">Delete Selected</button>

			    <label class="label-xs">Corner Radius</label>
			    <input type="range" id="rangeRadius" min="0" max="200" value="0" class="w-full accent-black">
			    
			    <label class="label-xs">Shadow Depth</label>
			    <input type="range" id="rangeShadow" min="0" max="50" value="10" class="w-full accent-black">

			    <div class="grid grid-cols-2 gap-2 mt-4">
			        <div>
			            <label class="label-xs">Border Color</label>
			            <input type="color" id="borderColor" value="#000000" class="w-full h-8 border-2 border-black">
			        </div>
			        <div>
			            <label class="label-xs">Width (x5)</label>
			            <input type="number" id="borderWidth" min="0" max="10" value="0" class="input-field">
			        </div>
			    </div>
			</section>
			<section id="globalControlSection">
				<h2 class="section-title">05 / Global Controls</h2>
				<label class="label-xs">Global Scale Factor (-2 to +2)</label>
				<div class="flex items-center gap-3">
    				<input type="range" id="globalScale" min="-2" max="2" step="0.1" value="0" class="w-full accent-black">
    				<span id="scaleVal" class="text-[10px] font-bold w-8">0.0</span>
				</div>
			</section>
			<section id="distributionSection">
			    <h2 class="section-title">06 / Distribution Pattern</h2>
			    <div class="grid grid-cols-3 gap-1 mb-4">
			        <button class="dist-btn pat-btn active" data-dist="jitter">Jitter</button>
			        <button class="dist-btn pat-btn" data-dist="orbital">Orbital</button>
			        <button class="dist-btn pat-btn" data-dist="spiral">Spiral</button>
			    </div>
			</section>
			<section>
                <h2 class="text-[10px] font-black uppercase tracking-widest mb-3 opacity-40">06 / Watermark</h2>
                <div class="flex gap-2 mb-2">
                    <input type="text" id="wmText" placeholder="@YourID" class="flex-1 border border-black p-2 text-xs font-bold focus:bg-[#00FF00] outline-none">
                    <button id="btnToggleWm" class="px-3 py-1 bg-black text-white text-[10px] font-bold uppercase hover:bg-[#00FF00] hover:text-black">Add</button>
                </div>

                <div id="wmControls" class="opacity-30 pointer-events-none transition-opacity">
                    <div class="grid grid-cols-2 gap-2 mb-2">
                        <div>
                            <label class="block text-[10px] font-bold mb-1">Color</label>
                            <input type="color" id="wmColor" value="#000000" class="w-full h-8 border-2 border-black cursor-pointer">
                        </div>
                        <div>
                            <label class="block text-[10px] font-bold mb-1">Opacity</label>
                            <input type="range" id="wmOpacity" min="0" max="100" value="50" class="w-full accent-black mt-1">
                        </div>
                    </div>
                    <label class="block text-[10px] font-bold mb-1">Initial Size</label>
                    <input type="range" id="wmSize" min="10" max="200" value="60" class="w-full accent-black">
                    <p class="text-[9px] font-bold text-gray-500 mt-1 uppercase">*(Select watermark on canvas to rotate/resize)</p>
                </div>
            </section>
        </aside>
    </main>

    <script type="module" src="js/app.js"></script>
</body>
</html>